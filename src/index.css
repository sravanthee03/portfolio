/* src/index.css - complete file (overwrite) */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Site-wide safe global styles ---------- */

:root{
  --site-max-width:1200px;
  --section-vertical:5rem;
  --section-vertical-sm:3rem;
  --nav-height:64px;
}

/* Reset */
html,body,#root{height:100%;margin:0;padding:0}
body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }

/* Make room for fixed navbar once (main uses this) */
main{padding-top:var(--nav-height)}

/* Section defaults */
section{
  padding-top:var(--section-vertical);
  padding-bottom:var(--section-vertical);
}

/* Mobile */
@media(max-width:768px){
  section{padding-top:var(--section-vertical-sm);padding-bottom:var(--section-vertical-sm)}
}

/* Container helper */
.container{
  max-width:var(--site-max-width);
  margin-left:auto;margin-right:auto;
  padding-left:1rem;padding-right:1rem;
}

/* Headings and subtitles */
.section-heading{
  font-size:clamp(1.6rem,3.5vw,2.5rem);
  line-height:1.05;
  margin-bottom:1rem;
  text-align:center;
}
.section-sub{
  color:rgba(15,23,42,0.65);
  margin:0 auto 1.25rem;
  max-width:58ch;
  text-align:center;
}

/* Grid cards */
.grid-cards{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1.5rem}
@media(min-width:768px){ .grid-cards{grid-template-columns:repeat(2,minmax(0,1fr))} }
@media(min-width:1100px){ .grid-cards{grid-template-columns:repeat(3,minmax(0,1fr))} }

/* Card */
.card{
  background:var(--card-bg,#0b1220);
  padding:1.25rem;border-radius:1rem;
  box-shadow:0 12px 30px rgba(2,6,23,0.14);
  transition:transform .25s ease,box-shadow .25s ease;
}
.card:hover{ transform:translateY(-6px); box-shadow:0 26px 60px rgba(2,6,23,0.16) }

/* Remove stray floating accent elements site-wide (safety) */
.floating-accent, .floating-line, .floating-bubble, .right-badge, .profile-badge{ display:none !important }

/* Reveal helpers disabled to be safe */
.reveal, .reveal-section { opacity:1 !important; transform:none !important; transition:none !important; }

/* Light/dark base */
body{ background:#f8fafc; color:#0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
.dark body{ background:#071421; color:#f8fafc }

/* theme aware headings */
.section-heading{ color:#071421 }
.dark .section-heading{ color:#fff }
.section-sub{ color:#334155 }
.dark .section-sub{ color:#cbd5e1 }

/* small hero/about adjustments */
#home{ padding-top:1rem !important; padding-bottom:1.5rem !important; min-height:0 !important; }

/* Button helpers (keep simple) */
.btn-primary{
  display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1rem;border-radius:9999px;
  font-weight:700;color:#021028;background:linear-gradient(90deg,#7dd3fc,#c4b5fd);
}
/* Project screenshot & modal helpers */
.card img { transition: transform .28s ease; }
.card:hover img { transform: scale(1.03); }

/* modal horizontal gallery scroll smoothing */
.snap-x { scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; }
.snap-center { scroll-snap-align: center; }

/* make horizontal gallery hide scrollbar nicely */
.project-gallery::-webkit-scrollbar { height: 10px; }
.project-gallery::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 999px; }

/* small responsive tweak for project thumbnails height */
@media (min-width: 768px) {
  .card img { height: 220px; }
}
@media (max-width: 767px) {
  .card img { height: 160px; }
}
/* projects: chips, tilt, gallery helpers */

.card img { transition: transform .28s ease; }
.card:hover img { transform: scale(1.03); }

/* chip */
.card .text-xs { background: rgba(255,255,255,0.9); padding: 4px 8px; border-radius: 9999px; }

/* project gallery scroll */
.project-gallery { scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; }
.project-gallery .snap-center { scroll-snap-align: center; }

/* hide default scrollbar tastefully */
.project-gallery::-webkit-scrollbar { height: 8px; }
.project-gallery::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 999px; }

/* disabled arrow */
button[disabled] { opacity: 0.5; cursor: not-allowed; }

/* responsive thumbnail heights */
@media (min-width: 768px) {
  .card img { height: 220px; }
}
@media (max-width: 767px) {
  .card img { height: 160px; }
}
/* === Project cards: make backgrounds & text theme-aware === */

/* Card background: light theme white, dark theme darker card */
.card {
  background: #ffffff;            /* light */
  color: #071421;                 /* dark text on light */
  --card-foreground: #071421;
  --chip-bg: rgba(0,0,0,0.06);
  --chip-foreground: #071421;
  border: 1px solid rgba(2,6,23,0.04);
}

/* Dark theme card */
.dark .card {
  background: #0b1220;            /* dark card */
  color: #e6eef8;                 /* light text on dark */
  --card-foreground: #e6eef8;
  --chip-bg: rgba(255,255,255,0.04);
  --chip-foreground: #e6eef8;
  border: 1px solid rgba(255,255,255,0.03);
}

/* Ensure titles and meta text inherit readable colors */
.card h3, .card p, .card a {
  color: var(--card-foreground);
}

/* Tech chips / small badges inside card */
.card .text-xs,
.card .chip,
.card .tech-chip {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 9999px;
  font-size: 0.75rem;
  background: var(--chip-bg);
  color: var(--chip-foreground);
  border: 1px solid transparent;
}

/* In case you used classes like 'bg-white/80' for chips, override them in dark */
.dark .card .bg-white\/80,
.dark .card .bg-white\/6,
.dark .card .bg-white\/50 {
  background: var(--chip-bg) !important;
  color: var(--chip-foreground) !important;
  border-color: rgba(255,255,255,0.04) !important;
}

/* Hover overlay button: make sure it's readable in both themes */
.card .absolute button,
.card .absolute .btn {
  background: rgba(255,255,255,0.95);
  color: #021028;
  border-radius: 6px;
  padding: 0.45rem 0.9rem;
  font-weight: 600;
  box-shadow: 0 6px 18px rgba(2,6,23,0.08);
}

/* Dark variant for overlay button */
.dark .card .absolute button,
.dark .card .absolute .btn {
  background: rgba(255,255,255,0.06);
  color: #e6eef8;
  box-shadow: none;
  border: 1px solid rgba(255,255,255,0.04);
}

/* Make links visible and consistent */
.card a { color: inherit; text-decoration: underline; }
.dark .card a { color: var(--card-foreground); }

/* Thumbnail placeholder (if any) */
.card .thumbnail-placeholder { background: linear-gradient(180deg,#f1f5f9 0%, #e6eefc 100%); }
.dark .card .thumbnail-placeholder { background: linear-gradient(180deg,#08101a 0%, #0b1220 100%); }

/* Ensure modal buttons/indicators are visible */
.dark .project-gallery img,
.dark .project-gallery .snap-center img { filter: none; }

/* tiny spacing tweak so lines don't blend into white chips */
.card .text-sm, .card .text-gray-400 {
  color: rgba(2,6,23,0.55);
}
.dark .card .text-sm, .dark .card .text-gray-400 {
  color: rgba(230,238,248,0.85);
}
/* ---------- Background Animation (Light & Dark Theme) ---------- */

.animated-bg {
  position: fixed;
  inset: 0;
  z-index: -10;
  overflow: hidden;
}

/* Blob base style */
.blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.55;
  animation: floatMove 16s ease-in-out infinite;
  mix-blend-mode: screen;
}

/* LIGHT THEME COLORS */
.light-blob {
  display: block;
}

.dark .light-blob {
  display: none;
}

/* DARK THEME COLORS */
.dark-blob {
  display: none;
}

.dark .dark-blob {
  display: block;
}

/* Light blobs */
.blob-1.light-blob {
  width: 420px; height: 420px;
  top: -10%; left: -10%;
  background: rgba(125, 211, 252, 0.32); /* sky-300 */
}
.blob-2.light-blob {
  width: 350px; height: 350px;
  bottom: -8%; right: -8%;
  background: rgba(196, 181, 253, 0.32); /* violet-300 */
}
.blob-3.light-blob {
  width: 280px; height: 280px;
  top: 40%; left: 55%;
  background: rgba(255, 207, 125, 0.28); /* amber-300 */
}

/* Dark blobs */
.blob-1.dark-blob {
  width: 420px; height: 420px;
  top: -12%; left: -12%;
  background: rgba(56, 189, 248, 0.20); /* sky-400 */
}
.blob-2.dark-blob {
  width: 380px; height: 380px;
  bottom: -10%; right: -5%;
  background: rgba(168, 85, 247, 0.18); /* purple-500 */
}
.blob-3.dark-blob {
  width: 300px; height: 300px;
  top: 40%; left: 50%;
  background: rgba(251, 113, 133, 0.18); /* rose-400 */
}

/* Movement animation */
@keyframes floatMove {
  0%   { transform: translate(0px, 0px) scale(1); }
  25%  { transform: translate(20px, -15px) scale(1.05); }
  50%  { transform: translate(-15px, 10px) scale(1.02); }
  75%  { transform: translate(15px, 20px) scale(1.06); }
  100% { transform: translate(0px, 0px) scale(1); }
}
/* Background FX animations */
@keyframes pulse-slow {
  0% { transform: scale(1); opacity: 0.6; }
  50% { transform: scale(1.15); opacity: 0.8; }
  100% { transform: scale(1); opacity: 0.6; }
}

.animate-pulse-slow {
  animation: pulse-slow 6s ease-in-out infinite;
}

@keyframes float {
  0% { transform: translateY(0px) scale(1); }
  50% { transform: translateY(-20px) scale(1.05); }
  100% { transform: translateY(0px) scale(1); }
}

.animate-float {
  animation: float 8s ease-in-out infinite;
}
/* ---------- BackgroundFX (blobs) ---------- */
/* container */
.animated-bg {
  position: fixed;
  inset: 0;
  z-index: -20;
  pointer-events: none;
  overflow: hidden;
}

/* blob base */
.blob {
  position: absolute;
  border-radius: 9999px;
  filter: blur(64px);
  opacity: 0.6;
  transform: translate3d(0,0,0);
  will-change: transform, opacity;
  animation: bg-float 18s ease-in-out infinite;
  mix-blend-mode: screen;
}

/* size + placement for variants (A/B/C) */
.blob-a { width: 44vmin; height: 44vmin; left: -8vmin; top: -6vmin; }
.blob-b { width: 36vmin; height: 36vmin; right: -6vmin; bottom: -8vmin; }
.blob-c { width: 28vmin; height: 28vmin; left: 52%; top: 40%; }

/* LIGHT theme colors (apply when NOT .dark on html) */
.blob.light.blob-a { background: rgba(125,211,252,0.30); } /* sky */
.blob.light.blob-b { background: rgba(196,181,253,0.28); } /* violet */
.blob.light.blob-c { background: rgba(255,223,93,0.22); }  /* amber */

/* DARK theme colors (apply when .dark present - overrides light) */
html.dark .blob.dark.blob-a { background: rgba(56,189,248,0.18); }   /* cyan */
html.dark .blob.dark.blob-b { background: rgba(168,85,247,0.16); }    /* purple */
html.dark .blob.dark.blob-c { background: rgba(251,113,133,0.16); }   /* rose */

/* Visibility: light-blobs visible only when NOT dark; dark-blobs visible when dark */
html:not(.dark) .blob.dark { display: none !important; }
html.dark .blob.light { display: none !important; }

/* subtle differences in animation timing for variety */
.blob.a-slow { animation-duration: 24s; }
.blob.b-fast { animation-duration: 14s; }

/* keyframes for floating */
@keyframes bg-float {
  0%   { transform: translate3d(0,0,0) scale(1); }
  25%  { transform: translate3d(18px,-12px,0) scale(1.03); }
  50%  { transform: translate3d(-12px,8px,0) scale(1.01); }
  75%  { transform: translate3d(10px,14px,0) scale(1.04); }
  100% { transform: translate3d(0,0,0) scale(1); }
}

/* Optional lower-intensity overlay (uncomment if you want a soft grain) */
/*
.animated-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: radial-gradient(rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 8px 8px;
  mix-blend-mode: overlay;
  opacity: 0.4;
}
*/

/* Performance: reduce motion on prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .blob { animation: none !important; opacity: 0.45 !important; }
}
/* ---------- BackgroundFX: blobs + cursor-follow spotlight ---------- */

.bgfx-root {
  position: fixed;
  inset: 0;
  z-index: -20;
  pointer-events: none;
  overflow: hidden;
}

/* common blob base */
.bg-blob {
  position: absolute;
  border-radius: 9999px;
  filter: blur(64px);
  opacity: 0.6;
  will-change: transform, opacity;
  animation: bgfx-float 18s ease-in-out infinite;
  mix-blend-mode: screen;
  transform-origin: center;
}

/* size + location variants */
.blob-1 { width: 42vmin; height: 42vmin; left: -6vmin; top: -6vmin; }
.blob-2 { width: 36vmin; height: 36vmin; right: -6vmin; bottom: -6vmin; }
.blob-3 { width: 28vmin; height: 28vmin; left: 54%; top: 38%; }

/* LIGHT theme (visible when html NOT .dark) */
html:not(.dark) .bg-blob.light.blob-1 { background: rgba(125,211,252,0.30); }
html:not(.dark) .bg-blob.light.blob-2 { background: rgba(196,181,253,0.28); }
html:not(.dark) .bg-blob.light.blob-3 { background: rgba(255,223,93,0.22); }

/* DARK theme (visible when html has .dark) */
html.dark .bg-blob.dark.blob-1 { background: rgba(56,189,248,0.18); }
html.dark .bg-blob.dark.blob-2 { background: rgba(168,85,247,0.16); }
html.dark .bg-blob.dark.blob-3 { background: rgba(251,113,133,0.16); }

/* hide mismatch sets */
html:not(.dark) .bg-blob.dark { display: none !important; }
html.dark .bg-blob.light { display: none !important; }

/* float animation */
@keyframes bgfx-float {
  0%   { transform: translate3d(0,0,0) scale(1); }
  25%  { transform: translate3d(18px,-12px,0) scale(1.03); }
  50%  { transform: translate3d(-12px,8px,0) scale(1.01); }
  75%  { transform: translate3d(10px,14px,0) scale(1.04); }
  100% { transform: translate3d(0,0,0) scale(1); }
}

/* ---------- Cursor-follow spotlight (blur light) ---------- */

.bg-spotlight {
  position: fixed;
  left: 50%;
  top: 50%;
  width: clamp(220px, 28vmin, 420px);
  height: clamp(220px, 28vmin, 420px);
  border-radius: 50%;
  transform: translate3d(-50%, -50%, 0);
  pointer-events: none;
  z-index: -10;
  mix-blend-mode: overlay;
  opacity: 0.06;
  transition: opacity 260ms ease, transform 160ms ease;
  background: radial-gradient(circle at center,
    rgba(255,255,255,0.18) 0%,
    rgba(255,255,255,0.08) 18%,
    rgba(255,255,255,0.02) 40%,
    transparent 60%);
  filter: blur(36px) saturate(120%);
}

/* dark mode variation for spotlight (slightly colored) */
html.dark .bg-spotlight {
  background: radial-gradient(circle at center,
    rgba(255,255,255,0.08) 0%,
    rgba(168,85,247,0.06) 18%,
    rgba(56,189,248,0.03) 40%,
    transparent 62%);
  opacity: 0.08;
}

/* reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .bg-blob, .bg-spotlight { animation: none !important; transition: none !important; opacity: 0.12 !important; }
}

/* responsive tweaks */
@media (max-width: 600px) {
  .bg-spotlight { width: 220px; height: 220px; opacity: 0.06; }
  .bg-blob { filter: blur(48px); }
}
/* Spotlight positioning: use left/top from JS and keep translate(-50%,-50%) for centering */
.bg-spotlight {
  position: fixed;
  left: 50%;
  top: 50%;
  width: clamp(220px, 28vmin, 420px);
  height: clamp(220px, 28vmin, 420px);
  border-radius: 50%;
  pointer-events: none;
  z-index: -10;
  mix-blend-mode: overlay;
  opacity: 0.06;
  transition: opacity 220ms ease, transform 160ms ease;
  transform: translate(-50%, -50%); /* keep -50% centering; JS controls left/top */
  background: radial-gradient(circle at center,
    rgba(255,255,255,0.18) 0%,
    rgba(255,255,255,0.08) 18%,
    rgba(255,255,255,0.02) 40%,
    transparent 60%);
  filter: blur(36px) saturate(120%);
}

/* Slightly different color in dark mode */
html.dark .bg-spotlight {
  background: radial-gradient(circle at center,
    rgba(255,255,255,0.06) 0%,
    rgba(168,85,247,0.06) 18%,
    rgba(56,189,248,0.03) 40%,
    transparent 62%);
  opacity: 0.08;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .bg-spotlight { transition: none !important; opacity: 0.08 !important; }
}
/* ===== Emergency visibility / stacking fixes ===== */

/* Ensure background FX sits behind everything (0) and not above due to stacking contexts */
.bgfx-root, .animated-bg {
  position: fixed !important;
  inset: 0 !important;
  z-index: 0 !important;            /* behind site chrome but above page background */
  pointer-events: none !important;
}

/* Ensure main UI layers sit above background */
main, nav, footer, header, .container, .card, section {
  position: relative !important;
  z-index: 10 !important;
}

/* Safety: restore any accidentally hidden reveal elements */
.reveal, .reveal-section {
  opacity: 1 !important;
  transform: none !important;
  visibility: visible !important;
  transition: none !important;
}

/* Force readable page text colors (light & dark aware) */
body { color: #0f172a !important; background: #f8fafc !important; }
html.dark body { color: #f8fafc !important; background: #071421 !important; }

/* Ensure headings/card text contrast in both themes */
h1,h2,h3,h4,h5,h6, p, a, li, label, span {
  color: inherit !important;
}

/* Card backgrounds: light cards in light mode, dark cards in dark mode */
.card {
  background: #ffffff !important;
  color: #071421 !important;
  border: 1px solid rgba(2,6,23,0.06) !important;
}
html.dark .card {
  background: #0b1220 !important;
  color: #e6eef8 !important;
  border: 1px solid rgba(255,255,255,0.04) !important;
}

/* Fix overlay/buttons that used white backgrounds in dark theme */
.bg-white\/80, .bg-white\/6, .bg-white\/50 {
  background-color: unset !important;
}

/* Spotlight safety: keep it subtle and non-blocking */
.bg-spotlight {
  z-index: 0 !important;
  opacity: 0.06 !important;
  pointer-events: none !important;
}

/* Remove any full-screen stray overlays accidentally inserted */
div[role="presentation"][style*="position: fixed;"][style*="inset: 0;"] { display: none !important; }

/* Accessibility: prefer-reduced-motion respected but keep visibility */
@media (prefers-reduced-motion: reduce) {
  .bg-blob, .bg-spotlight { animation: none !important; opacity: 0.12 !important; }
}
